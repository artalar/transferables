(function(n,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(n=typeof globalThis<"u"?globalThis:n||self,o(n.Transferables={}))})(this,function(n){"use strict";const o=Object.getPrototypeOf(Int8Array),y=globalThis.AudioData,m=globalThis.VideoFrame,A=globalThis.OffscreenCanvas,O=globalThis.RTCDataChannel;function h(a){return typeof a=="object"&&a!==null||typeof a=="function"}function T(a){return a instanceof o||a instanceof DataView}function f(a){return"ReadableStream"in globalThis&&a instanceof ReadableStream||"WritableStream"in globalThis&&a instanceof WritableStream||"TransformStream"in globalThis&&a instanceof TransformStream}function g(a){return"ArrayBuffer"in globalThis&&a instanceof ArrayBuffer||"MessagePort"in globalThis&&a instanceof MessagePort||"AudioData"in globalThis&&a instanceof y||"ImageBitmap"in globalThis&&a instanceof ImageBitmap||"VideoFrame"in globalThis&&a instanceof m||"OffscreenCanvas"in globalThis&&a instanceof A||"RTCDataChannel"in globalThis&&a instanceof O}function S(a){return[...new Set(a)]}function v(a,c=!1,r=1e4){const i=new Set([]);let l=[],t=[a];for(;t.length>0&&r>0;){for(let e of t)if(T(e))i.add(e.buffer);else if(g(e))i.add(e);else if(c&&f(e))i.add(e);else if(h(e)&&!f(e)){const u=Array.isArray(e)?e:Object.values(e),s=u.length;for(let d=0;d<s;d++)l.push(u[d])}t=l,l=[],r--}return Array.from(i)}function*D(a,c=!1,r=1e4){const i=new Set([]);let l=[a],t=[];for(;l.length>0&&r>0;){for(let e of l){const u=!i.has(e);if(T(e)){if(u){const{buffer:s}=e;i.has(s)||(yield s,i.add(s)),i.add(e)}}else if(g(e)||c&&f(e))u&&(yield e,i.add(e));else if(!f(e)&&h(e)){const s=Array.isArray(e)?e:Object.values(e),d=s.length;for(let b=0;b<d;b++)t.push(s[b])}}l=t,t=[],r--}i.clear()}function p(a,c=!1,r=1e4){let i=[a],l=[];for(;i.length>0&&r>0;){for(let t of i){if(T(t))return!0;if(g(t))return!0;if(c&&f(t))return!0;if(h(t)&&!f(t)){const e=Array.isArray(t)?t:Object.values(t),u=e.length;for(let s=0;s<u;s++)l.push(e[s])}}i=l,l=[],r--}return!1}n.AudioData=y,n.OffscreenCanvas=A,n.RTCDataChannel=O,n.TypedArray=o,n.VideoFrame=m,n.filterOutDuplicates=S,n.getTransferable=D,n.getTransferables=v,n.hasTransferables=p,n.isObject=h,n.isStream=f,n.isTransferable=g,n.isTypedArray=T,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
