"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const T=Object.getPrototypeOf(Int8Array),y=globalThis.AudioData,b=globalThis.VideoFrame,p=globalThis.OffscreenCanvas,m=globalThis.RTCDataChannel;function c(a){return typeof a=="object"&&a!==null||typeof a=="function"}function d(a){return a instanceof T||a instanceof DataView}function o(a){return"ReadableStream"in globalThis&&a instanceof ReadableStream||"WritableStream"in globalThis&&a instanceof WritableStream||"TransformStream"in globalThis&&a instanceof TransformStream}function h(a){return"MessageChannel"in globalThis&&a instanceof MessageChannel}function g(a){return"ArrayBuffer"in globalThis&&a instanceof ArrayBuffer||"MessagePort"in globalThis&&a instanceof MessagePort||"AudioData"in globalThis&&a instanceof y||"ImageBitmap"in globalThis&&a instanceof ImageBitmap||"VideoFrame"in globalThis&&a instanceof b||"OffscreenCanvas"in globalThis&&a instanceof p||"RTCDataChannel"in globalThis&&a instanceof m}function A(a){return Array.from(new Set(a))}function O(a,u=!1,l=1e4){const n=new Set([]);let r=[],t=[a];for(;t.length>0&&l>0;){for(let e of t)if(d(e))n.add(e.buffer);else if(g(e))n.add(e);else if(h(e))n.add(e.port1),n.add(e.port2);else if(u&&o(e))n.add(e);else if(c(e)&&!o(e)){const s=Array.isArray(e)?e:Object.values(e),i=s.length;for(let f=0;f<i;f++)r.push(s[f])}t=r,r=[],l--}return Array.from(n)}function*C(a,u=!1,l=1e4){const n=new Set([]);let r=[a],t=[];for(;r.length>0&&l>0;){for(let e of r)if(!n.has(e)){if(d(e)){const{buffer:s}=e;if(n.has(s))continue;yield s,n.add(s),n.add(e)}else if(g(e))yield e,n.add(e);else if(h(e)){if(n.has(e.port1))continue;yield e.port1,yield e.port2,n.add(e.port1),n.add(e.port2),n.add(e)}else if(u&&o(e))yield e,n.add(e);else if(!o(e)&&c(e)){const s=Array.isArray(e)?e:Object.values(e),i=s.length;for(let f=0;f<i;f++)t.push(s[f])}}r=t,t=[],l--}return n.clear(),r=null,t=null,null}function S(a,u=!1,l=1e4){let n=[a],r=[];for(;n.length>0&&l>0;){for(let t of n){if(d(t))return!0;if(g(t))return!0;if(h(t))return!0;if(u&&o(t))return!0;if(c(t)&&!o(t)){const e=Array.isArray(t)?t:Object.values(t),s=e.length;for(let i=0;i<s;i++)r.push(e[i])}}n=r,r=[],l--}return n=null,r=null,!1}exports.AudioData=y;exports.OffscreenCanvas=p;exports.RTCDataChannel=m;exports.TypedArray=T;exports.VideoFrame=b;exports.filterOutDuplicates=A;exports.getTransferable=C;exports.getTransferables=O;exports.hasTransferables=S;exports.isMessageChannel=h;exports.isObject=c;exports.isStream=o;exports.isTransferable=g;exports.isTypedArray=d;
