"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const g=Object.getPrototypeOf(Int8Array),b=globalThis.AudioData,y=globalThis.VideoFrame,m=globalThis.OffscreenCanvas,A=globalThis.RTCDataChannel;function c(a){return typeof a=="object"&&a!==null||typeof a=="function"}function h(a){return a instanceof g||a instanceof DataView}function f(a){return"ReadableStream"in globalThis&&a instanceof ReadableStream||"WritableStream"in globalThis&&a instanceof WritableStream||"TransformStream"in globalThis&&a instanceof TransformStream}function T(a){return"ArrayBuffer"in globalThis&&a instanceof ArrayBuffer||"MessagePort"in globalThis&&a instanceof MessagePort||"AudioData"in globalThis&&a instanceof b||"ImageBitmap"in globalThis&&a instanceof ImageBitmap||"VideoFrame"in globalThis&&a instanceof y||"OffscreenCanvas"in globalThis&&a instanceof m||"RTCDataChannel"in globalThis&&a instanceof A}function p(a){return[...new Set(a)]}function O(a,o=!1,l=1e4){const n=new Set([]);let s=[],t=[a];for(;t.length>0&&l>0;){for(let e of t)if(h(e))n.add(e.buffer);else if(T(e))n.add(e);else if(o&&f(e))n.add(e);else if(c(e)&&!f(e)){const i=Array.isArray(e)?e:Object.values(e),r=i.length;for(let u=0;u<r;u++)s.push(i[u])}t=s,s=[],l--}return Array.from(n)}function*S(a,o=!1,l=1e4){const n=new Set([]);let s=[a],t=[];for(;s.length>0&&l>0;){for(let e of s){const i=!n.has(e);if(h(e)){if(i){const{buffer:r}=e;n.has(r)||(yield r,n.add(r)),n.add(e)}}else if(T(e)||o&&f(e))i&&(yield e,n.add(e));else if(!f(e)&&c(e)){const r=Array.isArray(e)?e:Object.values(e),u=r.length;for(let d=0;d<u;d++)t.push(r[d])}}s=t,t=[],l--}n.clear()}function v(a,o=!1,l=1e4){let n=[a],s=[];for(;n.length>0&&l>0;){for(let t of n){if(h(t))return!0;if(T(t))return!0;if(o&&f(t))return!0;if(c(t)&&!f(t)){const e=Array.isArray(t)?t:Object.values(t),i=e.length;for(let r=0;r<i;r++)s.push(e[r])}}n=s,s=[],l--}return!1}exports.AudioData=b;exports.OffscreenCanvas=m;exports.RTCDataChannel=A;exports.TypedArray=g;exports.VideoFrame=y;exports.filterOutDuplicates=p;exports.getTransferable=S;exports.getTransferables=O;exports.hasTransferables=v;exports.isObject=c;exports.isStream=f;exports.isTransferable=T;exports.isTypedArray=h;
